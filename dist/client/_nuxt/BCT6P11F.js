import{_ as y}from"./WGRtTR4c.js";import{_ as b}from"./euPH4xbA.js";import{S as h,a2 as k,ag as I,G as S,J as B,o as a,c as P,H as w,K as u,X as x,ah as i}from"./dlBUJPxP.js";import"./ci7Psn9g.js";import"./DYHMA_ZV.js";import"./4c4Tojpe.js";const A=h({__name:"[subcategory]",setup(C){const s=k(),p=I(),m=S(),d=B();function _(o,e){var t;return((t=o.find(r=>i(r.name.en)===e))==null?void 0:t.id)||null}function f({category:o,subcategory:e,productMenu:t}){var c;const r=_(t,o),l=((c=t.filter(n=>n.id===r).flatMap(n=>n.items).find(n=>i(n.name.en)===e))==null?void 0:c.id)||null;return{category:r,subcategory:l}}async function g(){try{const o=s.params.category,e=s.params.subcategory;if(typeof o!="string"||typeof e!="string")throw new Error("Invalid route parameters");const t=f({category:o,subcategory:e,productMenu:x});await m.getProducts(t)}catch(o){console.error(o),p.push("/")}}return g(),(o,e)=>{const t=y,r=b;return a(),P("div",null,[w(d).isLoading?(a(),u(t,{key:0,isBlock:!0})):(a(),u(r,{key:1}))])}}});export{A as default};
