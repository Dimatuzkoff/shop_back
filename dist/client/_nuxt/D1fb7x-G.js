import{_ as b}from"./WGRtTR4c.js";import{S,J as k,G as w,a2 as C,r as m,o as a,c as n,H as L,K as B,t as s,O as I,a as t,b as p,w as h,F as V,L as q,W as E,I as N,p as P,e as F,_ as O}from"./dlBUJPxP.js";import{V as f}from"./xR8QRRp-.js";const o=c=>(P("data-v-10ed98b0"),c=c(),F(),c),R={class:"pa-2"},U={key:1},$={key:0},A=o(()=>t("strong",null,"Контактная информация",-1)),D=o(()=>t("th",{class:"text-left"},"Имя",-1)),G=o(()=>t("th",{class:"text-left"},"Фамилия",-1)),H=o(()=>t("th",{class:"text-left"},"Email",-1)),J=o(()=>t("th",{class:"text-left"},"Телефон",-1)),K={style:{border:"1px solid","max-width":"800px"},class:"mt-4 pa-1 center"},T=o(()=>t("strong",null,"Заказ",-1)),W=o(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"},"Товар"),t("th",{class:"text-left"},"Количество"),t("th",{class:"text-left"},"Цена")])],-1)),j=o(()=>t("td",null,"Сумма заказа",-1)),z=o(()=>t("strong",null,"Доставка",-1)),M=o(()=>t("th",{class:"text-left"},"Город",-1)),Q=o(()=>t("th",{class:"text-left"},"Отделение",-1)),X=S({__name:"[id]",setup(c){const d=k(),x=w(),v=C(),g=E().public.apiUrl,e=m(null),i=m([]);d.isLoading=!0;async function y(){var _;try{const r=await N.get(`${g}/api/order/${v.params.id}`);e.value=r.data,d.isLoading=!1,(_=e.value)==null||_.products.forEach(async u=>{const l=await x.getProduct(u.product);i.value.push({product:l,quantity:u.quantity})}),console.log(i.value)}catch(r){console.log(r)}}return y(),(_,r)=>{const u=b;return a(),n("div",R,[L(d).isLoading?(a(),B(u,{key:0,isBlock:!0})):(a(),n("div",U,[e.value?(a(),n("h1",$,"Заказ №"+s(e.value.number),1)):I("",!0),t("div",null,[p(f,{style:{border:"1px solid","max-width":"800px"},class:"mt-4 pa-1 center"},{default:h(()=>[A,t("tbody",null,[t("tr",null,[D,t("td",null,s(e.value.guestContact.name||"Отсутствует"),1)]),t("tr",null,[G,t("td",null,s(e.value.guestContact.surname||"Отсутствует"),1)]),t("tr",null,[H,t("td",null,s(e.value.guestContact.email||"Отсутствует"),1)]),t("tr",null,[J,t("td",null,s(e.value.guestContact.phone||"Отсутствует"),1)])])]),_:1}),t("div",K,[T,p(f,null,{default:h(()=>[W,t("tbody",null,[(a(!0),n(V,null,q(i.value,l=>(a(),n("tr",{key:l.product._id},[t("td",null,s(l.product.name),1),t("td",null,s(l.quantity),1),t("td",null,s(l.product.price)+" грн",1)]))),128)),t("tr",null,[j,t("td",null,s(e.value.totalPrice)+" грн",1)])])]),_:1})]),p(f,{style:{border:"1px solid","max-width":"800px"},class:"mt-4 pa-1 center"},{default:h(()=>[z,t("tbody",null,[t("tr",null,[M,t("td",null,s(e.value.delivery.city||"Отсутствует"),1)]),t("tr",null,[Q,t("td",null,s(e.value.delivery.department||"Отсутствует"),1)])])]),_:1})])]))])}}}),st=O(X,[["__scopeId","data-v-10ed98b0"]]);export{st as default};
