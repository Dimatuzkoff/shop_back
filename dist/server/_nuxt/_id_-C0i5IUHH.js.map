{"version":3,"file":"_id_-C0i5IUHH.js","sources":["../../../../pages/admin/order/[id].vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { ref, computed, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useAppStore } from '@/stores/AppStore';\nimport { useProductStore } from '@/stores/ProductStore';\n\ninterface Order {\n  delivery: {\n    city: string;\n    department: string;\n  };\n  guestContact: {\n    email: string;\n    name: string;\n    surname: String;\n\n    phone: string;\n  };\n  number: number;\n  products: [];\n  totalPrice: number;\n  _id: string;\n}\n\nconst appStore = useAppStore();\nconst productStore = useProductStore();\nconst route = useRoute();\nconst config = useRuntimeConfig();\nconst apiUrl = config.public.apiUrl;\nconst order = ref<Order | null>(null);\nconst products = ref<any[] | null>([]);\nappStore.isLoading = true;\nasync function getOrder() {\n  try {\n    const response = await axios.get(`${apiUrl}/api/order/${route.params.id}`);\n    order.value = response.data;\n    appStore.isLoading = false;\n    order.value?.products.forEach(async (elem: {}) => {\n      const product = await productStore.getProduct(elem.product);\n      products.value.push({ product, quantity: elem.quantity });\n    });\n    console.log(products.value);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetOrder();\n</script>\n\n\n\n<template>\n  <div class=\"pa-2\">\n    <organism-Loader v-if=\"appStore.isLoading\" :isBlock=\"true\" />\n    <div v-else>\n      <h1 v-if=\"order\">Заказ №{{ order.number }}</h1>\n      <div>\n        <v-table\n          style=\"border: 1px solid; max-width: 800px\"\n          class=\"mt-4 pa-1 center\"\n        >\n          <strong>Контактная информация</strong>\n          <tbody>\n            <tr>\n              <th class=\"text-left\">Имя</th>\n              <td>{{ order.guestContact.name || 'Отсутствует' }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-left\">Фамилия</th>\n              <td>{{ order.guestContact.surname || 'Отсутствует' }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-left\">Email</th>\n              <td>{{ order.guestContact.email || 'Отсутствует' }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-left\">Телефон</th>\n              <td>{{ order.guestContact.phone || 'Отсутствует' }}</td>\n            </tr>\n          </tbody>\n        </v-table>\n        <div\n          style=\"border: 1px solid; max-width: 800px\"\n          class=\"mt-4 pa-1 center\"\n        >\n          <strong>Заказ</strong>\n          <v-table>\n            <thead>\n              <tr>\n                <th class=\"text-left\">Товар</th>\n                <th class=\"text-left\">Количество</th>\n                <th class=\"text-left\">Цена</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in products\" :key=\"item.product._id\">\n                <td>{{ item.product.name }}</td>\n                <td>{{ item.quantity }}</td>\n                <td>{{ item.product.price }} грн</td>\n              </tr>\n              <tr>\n                <td>Сумма заказа</td>\n                <td>{{ order.totalPrice }} грн</td>\n              </tr>\n            </tbody>\n          </v-table>\n        </div>\n        <v-table\n          style=\"border: 1px solid; max-width: 800px\"\n          class=\"mt-4 pa-1 center\"\n        >\n          <strong>Доставка</strong>\n          <tbody>\n            <tr>\n              <th class=\"text-left\">Город</th>\n              <td>{{ order.delivery.city || 'Отсутствует' }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-left\">Отделение</th>\n              <td>{{ order.delivery.department || 'Отсутствует' }}</td>\n            </tr>\n          </tbody>\n        </v-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style  scoped>\n.center {\n  margin: 0 auto;\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,UAAM,WAAW;AACjB,UAAM,eAAe;AACrB,UAAM,QAAQ;AACd,UAAM,SAAS;AACT,UAAA,SAAS,OAAO,OAAO;AACvB,UAAA,QAAQ,IAAkB,IAAI;AAC9B,UAAA,WAAW,IAAkB,CAAA,CAAE;AACrC,aAAS,YAAY;AACrB,mBAAe,WAAW;;AACpB,UAAA;AACI,cAAA,WAAW,MAAM,MAAM,IAAI,GAAG,MAAM,cAAc,MAAM,OAAO,EAAE,EAAE;AACzE,cAAM,QAAQ,SAAS;AACvB,iBAAS,YAAY;AACrB,oBAAM,UAAN,mBAAa,SAAS,QAAQ,OAAO,SAAa;AAChD,gBAAM,UAAU,MAAM,aAAa,WAAW,KAAK,OAAO;AAC1D,mBAAS,MAAM,KAAK,EAAE,SAAS,UAAU,KAAK,UAAU;AAAA,QAAA;AAElD,gBAAA,IAAI,SAAS,KAAK;AAAA,eACnB,OAAO;AACd,gBAAQ,IAAI,KAAK;AAAA,MACnB;AAAA,IACF;AAES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}