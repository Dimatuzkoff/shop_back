{"version":3,"file":"ProductList-pHlecZ5D.js","sources":["../../../../components/organism/ProductCard.vue","../../../../components/organism/ProductList.vue"],"sourcesContent":["<template>\n  <Nuxt-Link :to=\"'/product/' + product._id\">\n    <v-card class=\"product-card pa-3\">\n      <v-img\n        :src=\"\n          product.image[mainImagePointer]\n            ? 'https://shop-back-mh7t.onrender.com/' +\n              product.image[mainImagePointer]\n            : ''\n        \"\n      ></v-img>\n      <v-card-title\n        ><b>{{ product.name }}</b></v-card-title\n      >\n      <div class=\"card-content\">\n        <p><b>Price:</b> {{ product.price }} грн</p>\n        <p><b>Category:</b> {{ product.category }}</p>\n        <p><b>Subcategory:</b> {{ product.subcategory }}</p>\n      </div>\n      <v-btn\n        v-if=\"product.quantitiesInStore && !isProductInCart\"\n        color=\"primary\"\n        @click.prevent=\"handleAddToCart\"\n        >Купить</v-btn\n      >\n      <v-btn\n        v-if=\"!product.quantitiesInStore\"\n        disabled\n        color=\"primary\"\n        @click.prevent=\"\"\n        >Товар закончился</v-btn\n      >\n      <v-btn\n        v-if=\"product.quantitiesInStore && isProductInCart\"\n        color=\"primary\"\n        @click.prevent=\"appStore.drawerCart = true\"\n        >Товар в корзине</v-btn\n      >\n      <v-icon\n        class=\"favorite-icon\"\n        :color=\"isFavorite ? 'primary' : 'grey'\"\n        @click.prevent=\"toggleFavorite\"\n      >\n        {{ isFavorite ? 'mdi-heart' : 'mdi-heart-outline' }}\n      </v-icon>\n    </v-card>\n  </Nuxt-Link>\n</template>\n\n<script lang=\"ts\" setup>\nimport { defineProps, ref, computed } from 'vue';\nimport type { ProductData } from '../../types/productData';\nimport { useCartStore } from '@/stores/CartStore';\nimport { useAppStore } from '../stores/AppStore';\n\nconst appStore = useAppStore();\nconst cartStore = useCartStore();\n\nconst props = defineProps<{\n  product: ProductData;\n}>();\n\nconst mainImagePointer = ref(0);\n\nif (props.product.mainImagePointer !== undefined) {\n  mainImagePointer.value = props.product.mainImagePointer;\n}\n\n// Логика для добавления в избранное\nconst isFavorite = ref(false);\nconst toggleFavorite = () => {\n  isFavorite.value = !isFavorite.value;\n};\n\nconst isProductInCart = computed(() => {\n  return cartStore.currentCart.some(\n    (elem: {}) => elem.product._id === props.product._id\n  );\n});\n\nconst handleAddToCart = () => {\n  cartStore.addProductToCart(props.product);\n  appStore.snackbarText = `${props.product.name} добавлен в корзину!`;\n  appStore.snackbarColor = 'green';\n  appStore.isOpenSnackbar = true;\n  appStore.snackbarTimeout = 4000;\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\na {\n  text-decoration: none;\n\n  .product-card {\n    width: 100%;\n    max-width: 400px;\n    height: 420px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    transition: all 0.3s ease;\n    position: relative;\n\n    &:hover {\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    }\n\n    .v-img {\n      height: 200px;\n      width: 100%;\n      object-fit: cover;\n      transition: opacity 0.3s ease;\n    }\n\n    .card-content {\n      height: 120px;\n      flex-grow: 1;\n\n      p {\n        margin: 5px 0;\n      }\n    }\n\n    .v-card-title {\n      font-size: 16px;\n      text-align: center;\n    }\n\n    .favorite-icon {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      cursor: pointer;\n      font-size: 24px;\n      transition: color 0.3s ease;\n\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <v-row v-if=\"productStore.products.length > 0\" class=\"pa-2\">\n    <v-col\n      v-for=\"product in productStore.products\"\n      :key=\"product._id\"\n      cols=\"12\"\n      xs=\"12\"\n      sm=\"6\"\n      md=\"4\"\n      lg=\"3\"\n      xl=\"2\"\n    >\n      <organism-ProductCard :product=\"product\" />\n    </v-col>\n  </v-row>\n  <h1 class=\"text-center\" v-else>Товаров не найдено</h1>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useProductStore } from '../../stores/ProductStore';\nconst productStore = useProductStore();\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;AAuDA,UAAM,WAAW;AACjB,UAAM,YAAY;AAElB,UAAM,QAAQ;AAIR,UAAA,mBAAmB,IAAI,CAAC;AAE1B,QAAA,MAAM,QAAQ,qBAAqB,QAAW;AAC/B,uBAAA,QAAQ,MAAM,QAAQ;AAAA,IACzC;AAGM,UAAA,aAAa,IAAI,KAAK;AAC5B,UAAM,iBAAiB,MAAM;AAChB,iBAAA,QAAQ,CAAC,WAAW;AAAA,IAAA;AAG3B,UAAA,kBAAkB,SAAS,MAAM;AACrC,aAAO,UAAU,YAAY;AAAA,QAC3B,CAAC,SAAa,KAAK,QAAQ,QAAQ,MAAM,QAAQ;AAAA,MAAA;AAAA,IACnD,CACD;AAED,UAAM,kBAAkB,MAAM;AAClB,gBAAA,iBAAiB,MAAM,OAAO;AACxC,eAAS,eAAe,GAAG,MAAM,QAAQ,IAAI;AAC7C,eAAS,gBAAgB;AACzB,eAAS,iBAAiB;AAC1B,eAAS,kBAAkB;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjE7B,UAAM,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}